<kendo-drawer-container>
    <kendo-drawer #drawer [mode]="expandMode" [position]="positionDrawer" [width]="widthDrawer" [(expanded)]="expanded">
        <ng-template kendoDrawerTemplate>
            <div class="drawer-custom-container">
                <!-- Header của drawer -->
                <div class="header-drawer">
                    <div class="" (click)="drawer.toggle()">click me</div>
                </div>

                <!-- Content của drawer -->
                <div class="content-drawer"></div>

                <!-- Footer của drawer -->
                <div class="footer-drawer"></div>
            </div>
        </ng-template>
    </kendo-drawer>

    <kendo-drawer-content>
        <div class="app-system-structure">
            <!-- Header1 -->
            <div class="header-1">
                <!-- Breadcrumb -->
                <div class="breadcrumb">
                    <kendo-breadcrumb [collapseMode]="collapseMode" [items]="defaultItemsBreadCrumb" SetClassSVGIcon
                        HamperBreadcrumb />
                </div>
                <!-- Button -->
                <div class="button-group">
                    <ng-container *ngIf="!itemSelectedTreeList">
                        <component-button type="success" (click)="handleAction(listActionHandle[2], null)" [imageDirection]="imageIconGroup" nameButton="Thêm mới module" />
                    </ng-container>
                    <ng-container *ngIf="itemSelectedTreeList">
                        <ng-container *ngFor="let button of getListButtonAvailable()">
                            <component-button type="success" (click)="handleAction(button, itemSelectedTreeList)" [imageDirection]="button.Icon" [nameButton]="button.Name" />
                        </ng-container>
                    </ng-container>
                </div>
            </div>

            <!-- Header2 -->
            <div class="header-2">
                <div class="block-1">
                    <span class="k-icon k-font-icon k-i-filter"></span>
                </div>
                <div class="block-2">
                    <div class="text-filter">Lọc dữ liệu</div>
                    <div class="reset-filter">Xóa bộ lọc</div>
                </div>
                <div class="block-3">
                    <div class="text-search">Tìm kiếm</div>
                    <div class="box-search">
                        <div class="input-search-container">
                            <component-search-bar [height]="32" [rounded]="5" [width]="400"
                                [placeholder]="'Tìm theo mã, tên, module/tính năng'"></component-search-bar>
                            <component-button type="success" [classIcon]="'k-i-search'" nameButton="Tìm" />
                        </div>
                    </div>
                </div>
            </div>

            <!-- Body -->
            <div class="list-sys-structure-container">
                <kendo-treelist 
                    [data]="listSysStructure" 
                    [fetchChildren]="fetchChildren" 
                    [hasChildren]="hasChildren"
                    [initiallyExpanded]="initiallyExpanded" 
                    [loading]="isLoading" 
                    (selectedItemsChange)="onClickItemTreeList($event)"
                    kendoTreeListSelectable
                    kendoTreeListExpandable>

                    <kendo-treelist-column [expandable]="isExpanded">
                        <ng-template kendoTreeListCellTemplate let-dataItem>
                            <div class="column-1">
                                <div class="block-1">
                                    <div class="icon">
                                        <img [src]="getIconOfObject(dataItem)" />
                                    </div>
                                    <div class="name" [ngStyle]="{'font-weight': isGroup(dataItem) ? '600' : 'normal'}">
                                        {{getNameObject(dataItem)}}
                                    </div>
                                </div>

                                <div class="block-2">
                                    <div class="id"
                                        [ngStyle]="{'font-style': isAction(dataItem) ? 'italic' : 'normal'}">
                                        {{getIdObject(dataItem)}}</div>
                                </div>
                            </div>
                        </ng-template>
                    </kendo-treelist-column>

                    <kendo-treelist-column [width]="54">
                        <ng-template kendoTreeListCellTemplate let-dataItem>
                            <div class="column-2">
                                <div class="button-tool"
                                    [ngClass]="{'button-tool-active' : toolBoxActive === dataItem.Code}"
                                    (click)="handleToolBox(dataItem)">
                                    <span class="k-icon k-font-icon k-i-more-horizontal"></span>
                                </div>

                                <div class="list-action" *ngIf="toolBoxActive === dataItem.Code">
                                    <div class="action" (click)="handleAction(action, dataItem)"
                                        *ngFor="let action of getListActionHandle(dataItem)">
                                        <div class="icon">
                                            <img [src]="action.Icon">
                                        </div>
                                        <div class="name">{{action.Name}}</div>
                                    </div>
                                </div>
                            </div>
                        </ng-template>
                    </kendo-treelist-column>
                </kendo-treelist>
            </div>
        </div>
    </kendo-drawer-content>
</kendo-drawer-container>